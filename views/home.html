<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FHSP - Home</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-[#232f3b]">
    <header class="flex bg-[#2e3a46] text-white mx-auto w-4/5 py-2.5 px-24">
      <div class="grow">
        <h1>FHSP</h1>
      </div>
      <div class="flex">
        <div>
          <a class="hover:text-slate-300" href="/home">Home</a>
        </div>
        <div class="mx-6">
          <a class="hover:text-slate-300" href="settings">Settings</a>
        </div>
        <div>
          <form method="post" action="/logout">
            <input class="cursor-pointer hover:text-slate-300" type="submit" value="Logout" />
          </form>
        </div>
      </div>
    </header>
    <div class="px-12 min-h-screen w-4/5 bg-white mx-auto border pb-6">
      {% if messages.info %}
      <div class="my-1 bg-blue-100">
          <p>{{ messages.info }}</p>
        </div>
      {% else %}
      <div class="my-1">
        <p class="invisible">...</p>
      </div>
      {% endif %}
      <div class="flex my-2 bg-slate-100 p-2 rounded-xl border">
        <div class="py-2 bg-white flex-1 border mx-1">
          <form
            method="post"
            action="upload"
            class="my-2 bg-white  rounded overflow-hidden truncate max-w-48"
            enctype="multipart/form-data"
          >
            <input type="file" name="file" onchange="form.submit()" />
            <!-- <input
              type="submit"
              value="Upload"
              class="bg-[#517ad5] hover:bg-[#517ad5dd] text-white px-3 py-1 rounded hover:cursor-pointer"
            /> -->
          </form>
        </div>
        <div class="bg-white flex-1 border mx-1">
          <p class="mx-auto">Storage used: {{ storage }} MB / 100 MB</p>
        </div>
      </div>
      <div class="border rounded-xl min-h-12 bg-slate-100 p-3.5">
        <table class="bg-white table-auto w-full border border-slate-300">
          <thead>
            <tr class="rounded">
              <th></th>
              <th class="text-left">Name</th>
              <th class="text-left">Date created</th>
              <th class="text-left">File size</th>
            </tr>
            <tbody class="text-sm">
              {% for file in files %}
              <tr class="border my-4 hover:bg-slate-50 border-slate-300 h-12">
                <td class="w-[5em]">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-9 h-9 p-1 mx-auto align-middle text-slate-400 border bg-blue-50 border-blue-100 rounded-md">
                    {% if (file.name.endsWith("png") or file.name.endsWith("jpg") or file.name.endsWith("jpeg")) %}
                      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z">
                    {% elif file.name.endsWith("mp4") or file.name.endsWith("mkv") %}
                      <path stroke-linecap="round" stroke-linejoin="round" d="M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5">
                    {% elif file.name.endsWith("mp3") %}
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z">
                    {% elif file.name.endsWith("obj") %}
                      <path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9">
                    {% elif file.name.endsWith("js") %}
                      <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5">
                    {% else %}
                      <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z">
                    {% endif %}
                  </svg>
                </td>
                <td class="overflow-hidden truncate">
                  {{ file.name }}
                </td>
                <td class="text-slate-400">
                  {{ file.created_at }}
                </td>
                <td>
                  {{ file.size }} B
                </td>
                <td>
                  <form method="post" action="download">
                    <button
                      name="file"
                      value="{{ file.name }}"
                      type="submit"
                      class="bg-[#4d5c68] text-white w-20 py-1 hover:bg-[#4d5c68cc] rounded"
                    >
                    Download
                    </button>
                  </form>
                </td>
                <td>
                  <form method="post" action="copy">
                    <button
                      name="file"
                      value="{{ file.name }}"
                      type="submit"
                      class="bg-[#4d5c68] text-white w-20 py-1 hover:bg-[#4d5c68cc] rounded"
                    >
                    Copy
                    </button>
                  </form>
                </td>
                <td>
                  <form method="post" action="remove">
                    <button
                      name="file"
                      value="{{ file.name }}"
                      type="submit"
                      class="bg-[#4d5c68] text-white w-20 py-1 hover:bg-[#4d5c68cc] rounded"
                    >
                    Delete
                    </button>
                  </form>
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </thead>
        </table>
      </div>
    </div>
  </body>
</html>
